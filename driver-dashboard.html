<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Éâ„É©„Ç§„Éê„Éº„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ - CarGo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            color: #333;
        }

        .header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .dashboard-header {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .dashboard-title {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: #27ae60;
        }

        .driver-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .rating {
            display: flex;
            justify-content: center;
            gap: 0.2rem;
            margin-top: 0.5rem;
        }

        .star {
            color: #f39c12;
            font-size: 1.2rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: #e74c3c;
            color: white;
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .panel {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .panel-header {
            background: #34495e;
            color: white;
            padding: 1rem 1.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-content {
            padding: 1.5rem;
        }

        .search-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-group label {
            font-size: 0.9rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .filter-group select,
        .filter-group input {
            padding: 8px;
            border: 2px solid #ecf0f1;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .job-list {
            max-height: 500px;
            overflow-y: auto;
        }

        .job-card {
            border: 1px solid #ecf0f1;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background: #f8f9fa;
            transition: all 0.3s;
        }

        .job-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .job-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .job-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #27ae60;
        }

        .job-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .route-info {
            background: white;
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
        }

        .route-distance {
            text-align: center;
            padding: 0.5rem;
            background: #3498db;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }

        .job-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }

        .current-job {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .current-job h3 {
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .job-progress {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .progress-step {
            text-align: center;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }

        .progress-step.completed {
            background: rgba(255,255,255,0.3);
        }

        .progress-step.active {
            background: rgba(255,255,255,0.5);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: black;
        }

        .earnings-chart {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .driver-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .job-details {
                grid-template-columns: 1fr;
            }
            
            .job-progress {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">üöó CarGo - „Éâ„É©„Ç§„Éê„Éº</div>
            <div class="user-info">
                <span>Â±±Áî∞Â§™ÈÉé Êßò</span>
                <a href="index.html" class="btn btn-secondary">„Éõ„Éº„É†„Å´Êàª„Çã</a>
            </div>
        </nav>
    </header>

    <div class="main-container">
        <div class="dashboard-header">
            <h1 class="dashboard-title">„Éâ„É©„Ç§„Éê„Éº„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</h1>
            <p>„Çπ„Ç≠„ÉûÊôÇÈñì„ÇíÊúâÂäπÊ¥ªÁî®„Åó„Å¶ÂÆâÂÖ®„ÉªÁ¢∫ÂÆü„Å´ÂèéÁõä„ÇíÁç≤Âæó„Åó„Åæ„Åó„Çá„ÅÜ</p>
            
            <div class="driver-stats">
                <div class="stat-card">
                    <div class="stat-value">4.8</div>
                    <div>Ë©ï‰æ°„Çπ„Ç≥„Ç¢</div>
                    <div class="rating">
                        <span class="star">‚òÖ</span>
                        <span class="star">‚òÖ</span>
                        <span class="star">‚òÖ</span>
                        <span class="star">‚òÖ</span>
                        <span class="star">‚òÖ</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">24</div>
                    <div>‰ªäÊúà„ÅÆÂÆå‰∫Ü‰ª∂Êï∞</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">¬•180,000</div>
                    <div>‰ªäÊúà„ÅÆÂèéÁõä</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">98%</div>
                    <div>ÂÆâÂÖ®ÈÅãËª¢„Çπ„Ç≥„Ç¢</div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-success" onclick="startWork()">üöó ‰ΩúÊ•≠ÈñãÂßã</button>
                <button class="btn btn-primary" onclick="openModal('earningsModal')">üí∞ ÂèéÁõäÁ¢∫Ë™ç</button>
                <button class="btn btn-secondary" onclick="openModal('profileModal')">üë§ „Éó„É≠„Éï„Ç£„Éº„É´</button>
                <button class="btn btn-secondary" onclick="openModal('contactModal')">üìû „ÅäÂïè„ÅÑÂêà„Çè„Åõ</button>
            </div>
        </div>

        <!-- ÁèæÂú®„ÅÆ‰ΩúÊ•≠ -->
        <div class="current-job" id="currentJob" style="display: none;">
            <h3>üöõ ÁèæÂú®„ÅÆËº∏ÈÄÅ‰ΩúÊ•≠</h3>
            <div class="job-progress">
                <div class="progress-step completed">
                    <div>üìç</div>
                    <div>ÂèóÂèñÂÆå‰∫Ü</div>
                </div>
                <div class="progress-step active">
                    <div>üöó</div>
                    <div>Ëº∏ÈÄÅ‰∏≠</div>
                </div>
                <div class="progress-step">
                    <div>üìç</div>
                    <div>Á¥çËªä</div>
                </div>
                <div class="progress-step">
                    <div>üí∞</div>
                    <div>ÂÆå‰∫Ü</div>
                </div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h4>„Éà„É®„Çø „Éó„É™„Ç¶„Çπ 2019Âπ¥</h4>
                    <p>Êù±‰∫¨ÈÉΩÊñ∞ÂÆøÂå∫ ‚Üí Á•ûÂ•àÂ∑ùÁúåÊ®™ÊµúÂ∏Ç</p>
                    <p>Â†±ÈÖ¨: ¬•35,000</p>
                </div>
                <div>
                    <button class="btn btn-primary" onclick="openModal('deliveryModal')">ÈÖçÈÄÅÂÆå‰∫Ü</button>
                </div>
            </div>
        </div>

        <div class="content-grid">
            <div class="panel">
                <div class="panel-header">
                    üîç Ê°à‰ª∂Ê§úÁ¥¢
                    <button class="btn btn-primary" onclick="refreshJobs()">Êõ¥Êñ∞</button>
                </div>
                <div class="panel-content">
                    <div class="search-filters">
                        <div class="filter-group">
                            <label>„Ç®„É™„Ç¢</label>
                            <select>
                                <option>ÂÖ®Âú∞Âüü</option>
                                <option>Êù±‰∫¨ÈÉΩ</option>
                                <option>Á•ûÂ•àÂ∑ùÁúå</option>
                                <option>ÂüºÁéâÁúå</option>
                                <option>ÂçÉËëâÁúå</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Ë∑ùÈõ¢</label>
                            <select>
                                <option>ÊåáÂÆö„Å™„Åó</option>
                                <option>50km‰ª•ÂÜÖ</option>
                                <option>100km‰ª•ÂÜÖ</option>
                                <option>200km‰ª•ÂÜÖ</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>ÊúÄ‰ΩéÂ†±ÈÖ¨</label>
                            <input type="number" placeholder="ÂÜÜ" value="20000">
                        </div>
                        <div class="filter-group">
                            <label>Êó•ÊôÇ</label>
                            <input type="date">
                        </div>
                    </div>

                    <div class="job-list">
                        <div class="job-card">
                            <div class="job-header">
                                <div class="job-title">„Éà„É®„Çø „Éó„É™„Ç¶„Çπ 2019Âπ¥</div>
                                <div class="job-price">¬•35,000</div>
                            </div>
                            
                            <div class="route-info">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span>üìç Êù±‰∫¨ÈÉΩÊñ∞ÂÆøÂå∫</span>
                                    <span>üìç Á•ûÂ•àÂ∑ùÁúåÊ®™ÊµúÂ∏Ç</span>
                                </div>
                                <div class="route-distance">Á¥Ñ45km / ‰∫àÊÉ≥ÊôÇÈñì: 1ÊôÇÈñì30ÂàÜ</div>
                            </div>
                            
                            <div class="job-details">
                                <div class="detail-item">
                                    <span>‚è∞</span>
                                    <span>2024/06/14 9:00Â∏åÊúõ</span>
                                </div>
                                <div class="detail-item">
                                    <span>üè¢</span>
                                    <span>Áî∞‰∏≠ÂïÜ‰ºö</span>
                                </div>
                                <div class="detail-item">
                                    <span>üöó</span>
                                    <span>‰ΩéÁáÉË≤ªËªä„ÉªÁä∂ÊÖãËâØÂ•Ω</span>
                                </div>
                                <div class="detail-item">
                                    <span>üí≥</span>
                                    <span>Âç≥Êó•ÊîØÊâï„ÅÑ</span>
                                </div>
                            </div>
                            
                            <div class="job-actions">
                                <button class="btn btn-secondary" onclick="viewJobDetails('JOB001')">Ë©≥Á¥∞</button>
                                <button class="btn btn-success" onclick="applyJob('JOB001')">ÂøúÂãü</button>
                            </div>
                        </div>

                        <div class="job-card">
                            <div class="job-header">
                                <div class="job-title">„Éõ„É≥„ÉÄ „Éï„Ç£„ÉÉ„Éà 2020Âπ¥</div>
                                <div class="job-price">¬•28,000</div>
                            </div>
                            
                            <div class="route-info">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span>üìç ÂüºÁéâÁúå„Åï„ÅÑ„Åü„ÅæÂ∏Ç</span>
                                    <span>üìç ÂçÉËëâÁúåËàπÊ©ãÂ∏Ç</span>
                                </div>
                                <div class="route-distance">Á¥Ñ35km / ‰∫àÊÉ≥ÊôÇÈñì: 1ÊôÇÈñì15ÂàÜ</div>
                            </div>
                            
                            <div class="job-details">
                                <div class="detail-item">
                                    <span>‚è∞</span>
                                    <span>2024/06/15 14:00Â∏åÊúõ</span>
                                </div>
                                <div class="detail-item">
                                    <span>üè¢</span>
                                    <span>„Ç´„Éº„É©„É≥„Éâ</span>
                                </div>
                                <div class="detail-item">
                                    <span>üöó</span>
                                    <span>„Ç≥„É≥„Éë„ÇØ„Éà„Ç´„Éº</span>
                                </div>
                                <div class="detail-item">
                                    <span>üí≥</span>
                                    <span>ÁøåÂñ∂Ê•≠Êó•ÊîØÊâï„ÅÑ</span>
                                </div>
                            </div>
                            
                            <div class="job-actions">
                                <button class="btn btn-secondary" onclick="viewJobDetails('JOB002')">Ë©≥Á¥∞</button>
                                <button class="btn btn-success" onclick="applyJob('JOB002')">ÂøúÂãü</button>
                            </div>
                        </div>

                        <div class="job-card">
                            <div class="job-header">
                                <div class="job-title">„Éû„ÉÑ„ÉÄ CX-5 2021Âπ¥</div>
                                <div class="job-price">¬•45,000</div>
                            </div>
                            
                            <div class="route-info">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                    <span>üìç Êù±‰∫¨ÈÉΩÊ∏ãË∞∑Âå∫</span>
                                    <span>üìç Áæ§È¶¨ÁúåÈ´òÂ¥éÂ∏Ç</span>
                                </div>
                                <div class="route-distance">Á¥Ñ120km / ‰∫àÊÉ≥ÊôÇÈñì: 2ÊôÇÈñì30ÂàÜ</div>
                            </div>
                            
                            <div class="job-details">
                                <div class="detail-item">
                                    <span>‚è∞</span>
                                    <span>2024/06/16 10:00Â∏åÊúõ</span>
                                </div>
                                <div class="detail-item">
                                    <span>üè¢</span>
                                    <span>„Ç∞„É≥„Éû„Ç™„Éº„Éà</span>
                                </div>
                                <div class="detail-item">
                                    <span>üöó</span>
                                    <span>SUV„ÉªÈ´òÂπ¥Âºè</span>
                                </div>
                                <div class="detail-item">
                                    <span>üí≥</span>
                                    <span>Âç≥Êó•ÊîØÊâï„ÅÑ</span>
                                </div>
                            </div>
                            
                            <div class="job-actions">
                                <button class="btn btn-secondary" onclick="viewJobDetails('JOB003')">Ë©≥Á¥∞</button>
                                <button class="btn btn-success" onclick="applyJob('JOB003')">ÂøúÂãü</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel">
                <div class="panel-header">üìã ‰ΩúÊ•≠Â±•Ê≠¥</div>
                <div class="panel-content">
                    <div class="job-list">
                        <div style="border-bottom: 1px solid #ecf0f1; padding: 1rem 0;">
                            <h4 style="color: #27ae60;">‚úÖ ÂÆå‰∫Ü</h4>
                            <p><strong>Êó•Áî£ „Éé„Éº„Éà 2018Âπ¥</strong></p>
                            <p>Ê∏ØÂå∫ ‚Üí Â∑ùÂ¥éÂ∏Ç | ¬•25,000</p>
                            <p style="color: #7f8c8d; font-size: 0.9rem;">2024/06/13 ÂÆå‰∫Ü</p>
                            <div style="margin-top: 0.5rem;">
                                <span style="background: #27ae60; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem;">Ë©ï‰æ°: ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            </div>
                        </div>
                        
                        <div style="border-bottom: 1px solid #ecf0f1; padding: 1rem 0;">
                            <h4 style="color: #3498db;">üöó ÈÄ≤Ë°å‰∏≠</h4>
                            <p><strong>„Éà„É®„Çø „Éó„É™„Ç¶„Çπ 2019Âπ¥</strong></p>
                            <p>Êñ∞ÂÆøÂå∫ ‚Üí Ê®™ÊµúÂ∏Ç | ¬•35,000</p>
                            <p style="color: #7f8c8d; font-size: 0.9rem;">2024/06/14 Ëº∏ÈÄÅ‰∏≠</p>
                            <div style="margin-top: 0.5rem;">
                                <button class="btn btn-primary" onclick="showCurrentJob()">ÈÄ≤ÊçóÁ¢∫Ë™ç</button>
                            </div>
                        </div>
                        
                        <div style="border-bottom: 1px solid #ecf0f1; padding: 1rem 0;">
                            <h4 style="color: #f39c12;">‚è∞ ‰∫àÂÆö</h4>
                            <p><strong>„Éõ„É≥„ÉÄ „Éï„Ç£„ÉÉ„Éà 2020Âπ¥</strong></p>
                            <p>„Åï„ÅÑ„Åü„ÅæÂ∏Ç ‚Üí ËàπÊ©ãÂ∏Ç | ¬•28,000</p>
                            <p style="color: #7f8c8d; font-size: 0.9rem;">2024/06/15 14:00 ÈñãÂßã‰∫àÂÆö</p>
                        </div>
                        
                        <div style="padding: 1rem 0;">
                            <h4 style="color: #27ae60;">‚úÖ ÂÆå‰∫Ü</h4>
                            <p><strong>„Çπ„Éê„É´ „Ç§„É≥„Éó„É¨„ÉÉ„Çµ 2020Âπ¥</strong></p>
                            <p>‰∏ñÁî∞Ë∞∑Âå∫ ‚Üí Á´ãÂ∑ùÂ∏Ç | ¬•30,000</p>
                            <p style="color: #7f8c8d; font-size: 0.9rem;">2024/06/12 ÂÆå‰∫Ü</p>
                            <div style="margin-top: 0.5rem;">
                                <span style="background: #27ae60; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem;">Ë©ï‰æ°: ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ÂèéÁõä„É¢„Éº„ÉÄ„É´ -->
    <div id="earningsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('earningsModal')">&times;</span>
            <h2>üí∞ ÂèéÁõä„É¨„Éù„Éº„Éà</h2>
            
            <div class="earnings-chart">
                <h3>‰ªäÊúà„ÅÆÂèéÁõä: ¬•180,000</h3>
                <p>ÂâçÊúàÊØî: +15% ‚ÜóÔ∏è</p>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; text-align: center;">
                    <h5 style="color: #7f8c8d; margin-bottom: 0.5rem;">‰ªäÊó•</h5>
                    <p style="font-size: 1.3rem; font-weight: bold; color: #27ae60;">¬•35,000</p>
                </div>
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; text-align: center;">
                    <h5 style="color: #7f8c8d; margin-bottom: 0.5rem;">‰ªäÈÄ±</h5>
                    <p style="font-size: 1.3rem; font-weight: bold; color: #3498db;">¬•85,000</p>
                </div>
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; text-align: center;">
                    <h5 style="color: #7f8c8d; margin-bottom: 0.5rem;">‰ªäÊúà</h5>
                    <p style="font-size: 1.3rem; font-weight: bold; color: #e74c3c;">¬•180,000</p>
                </div>
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; text-align: center;">
                    <h5 style="color: #7f8c8d; margin-bottom: 0.5rem;">‰ªäÂπ¥</h5>
                    <p style="font-size: 1.3rem; font-weight: bold; color: #9b59b6;">¬•2,160,000</p>
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px;">
                    <h4>ÂÆå‰∫Ü‰ª∂Êï∞</h4>
                    <p style="font-size: 1.5rem; font-weight: bold; color: #27ae60;">24‰ª∂</p>
                    <p style="color: #7f8c8d; font-size: 0.9rem;">Âπ≥Âùá: 1.2‰ª∂/Êó•</p>
                </div>
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px;">
                    <h4>Âπ≥ÂùáÂ†±ÈÖ¨</h4>
                    <p style="font-size: 1.5rem; font-weight: bold; color: #3498db;">¬•7,500</p>
                    <p style="color: #7f8c8d; font-size: 0.9rem;">ÊúÄÈ´ò: ¬•45,000</p>
                </div>
            </div>
            
            <h4>„Ç®„É™„Ç¢Âà•ÂèéÁõä</h4>
            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                    <span>Êù±‰∫¨ÈÉΩÂÜÖ</span>
                    <span style="font-weight: bold;">¬•72,000 (40%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                    <span>Á•ûÂ•àÂ∑ùÁúå</span>
                    <span style="font-weight: bold;">¬•54,000 (30%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                    <span>ÂüºÁéâÁúå</span>
                    <span style="font-weight: bold;">¬•36,000 (20%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                    <span>ÂçÉËëâÁúå</span>
                    <span style="font-weight: bold;">¬•18,000 (10%)</span>
                </div>
            </div>
            
            <h4>„Éú„Éº„Éä„Çπ„Éª„Ç§„É≥„Çª„É≥„ÉÜ„Ç£„Éñ</h4>
            <div style="background: linear-gradient(135deg, #f39c12, #e67e22); color: white; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                <p style="font-weight: bold;">üéØ ‰ªäÊúà„ÅÆ„Éú„Éº„Éä„ÇπÁç≤ÂæóÁä∂Ê≥Å</p>
                <p>ÂÆâÂÖ®ÈÅãËª¢„Éú„Éº„Éä„Çπ: ¬•10,000 ‚úÖ</p>
                <p>20‰ª∂ÈÅîÊàê„Éú„Éº„Éä„Çπ: ¬•15,000 ‚úÖ</p>
                <p>È°ßÂÆ¢Ê∫ÄË∂≥Â∫¶„Éú„Éº„Éä„Çπ: ¬•5,000 ‚úÖ</p>
                <p style="margin-top: 0.5rem; font-size: 1.2rem;">ÂêàË®à„Éú„Éº„Éä„Çπ: ¬•30,000</p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <button class="btn btn-primary" onclick="downloadReport()">üìä Ë©≥Á¥∞„É¨„Éù„Éº„Éà</button>
                <button class="btn btn-success" onclick="requestPayout()">üí∏ Âá∫ÈáëÁî≥Ë´ã</button>
            </div>
        </div>
    </div>

    <!-- ÈÖçÈÄÅÂÆå‰∫Ü„É¢„Éº„ÉÄ„É´ -->
    <div id="deliveryModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('deliveryModal')">&times;</span>
            <h2>üöö ÈÖçÈÄÅÂÆå‰∫ÜÂ†±Âëä</h2>
            
            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                <h3>„Éà„É®„Çø „Éó„É™„Ç¶„Çπ 2019Âπ¥</h3>
                <p>Êù±‰∫¨ÈÉΩÊñ∞ÂÆøÂå∫ ‚Üí Á•ûÂ•àÂ∑ùÁúåÊ®™ÊµúÂ∏Ç</p>
                <p>Â†±ÈÖ¨: ¬•35,000</p>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Ëªä‰∏°Áä∂ÊÖãÁ¢∫Ë™ç</label>
                <div style="display: flex; gap: 1rem;">
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" checked> Â§ñË¶≥Á¢∫Ë™çÂÆå‰∫Ü
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" checked> Ëµ∞Ë°åË∑ùÈõ¢Ë®òÈå≤ÂÆå‰∫Ü
                    </label>
                </div>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">ÂèóÂèñËÄÖ„Çµ„Ç§„É≥</label>
                <div style="border: 2px dashed #ccc; height: 150px; display: flex; align-items: center; justify-content: center; border-radius: 8px;">
                    <p style="color: #7f8c8d;">„Çø„ÉÉ„ÉÅ„Åó„Å¶ÁΩ≤Âêç„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
                </div>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">ÁâπË®ò‰∫ãÈ†Ö</label>
                <textarea style="width: 100%; padding: 12px; border: 2px solid #ecf0f1; border-radius: 8px;" placeholder="‰Ωï„ÅãÂïèÈ°å„Åå„ÅÇ„Çå„Å∞Ë®òÂÖ•„Åó„Å¶„Åè„Å†„Åï„ÅÑ"></textarea>
            </div>
            
            <button class="btn btn-success" style="width: 100%;" onclick="completeDelivery()">ÈÖçÈÄÅÂÆå‰∫Ü</button>
        </div>
    </div>

    <!-- „Éó„É≠„Éï„Ç£„Éº„É´„É¢„Éº„ÉÄ„É´ -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('profileModal')">&times;</span>
            <h2>üë§ „Éó„É≠„Éï„Ç£„Éº„É´Ë®≠ÂÆö</h2>
            
            <div style="display: grid; grid-template-columns: 100px 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                <div style="width: 100px; height: 100px; background: #ecf0f1; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 3rem;">
                    üë§
                </div>
                <div>
                    <h3>Â±±Áî∞Â§™ÈÉé</h3>
                    <p style="color: #7f8c8d;">„Éâ„É©„Ç§„Éê„ÉºID: DRV-2024-0123</p>
                    <p style="color: #7f8c8d;">ÁôªÈå≤Êó•: 2024Âπ¥1Êúà15Êó•</p>
                    <div style="margin-top: 0.5rem;">
                        <span style="background: #27ae60; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem;">„Ç¥„Éº„É´„Éâ„Éâ„É©„Ç§„Éê„Éº</span>
                    </div>
                </div>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Á®ºÂÉç„Ç®„É™„Ç¢</label>
                <select style="width: 100%; padding: 12px; border: 2px solid #ecf0f1; border-radius: 8px;">
                    <option>Êù±‰∫¨ÈÉΩ„ÉªÁ•ûÂ•àÂ∑ùÁúå„ÉªÂüºÁéâÁúå„ÉªÂçÉËëâÁúå</option>
                    <option>Êù±‰∫¨ÈÉΩ„ÅÆ„Åø</option>
                    <option>Èñ¢Êù±ÂÖ®Âüü</option>
                </select>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Á®ºÂÉçÂèØËÉΩÊôÇÈñì</label>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <input type="time" value="09:00" style="padding: 12px; border: 2px solid #ecf0f1; border-radius: 8px;">
                    <input type="time" value="18:00" style="padding: 12px; border: 2px solid #ecf0f1; border-radius: 8px;">
                </div>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">ÊúÄ‰ΩéÂ∏åÊúõÂ†±ÈÖ¨</label>
                <input type="number" value="20000" style="width: 100%; padding: 12px; border: 2px solid #ecf0f1; border-radius: 8px;" placeholder="ÂÜÜ">
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Ëªä‰∏°„Çø„Ç§„Éó</label>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem;">
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" checked> ËªΩËá™ÂãïËªä
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" checked> ÊôÆÈÄöËªä
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" checked> SUV
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox"> „Éü„Éã„Éê„É≥
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox"> „Éà„É©„ÉÉ„ÇØ
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox"> È´òÁ¥öËªä
                    </label>
                </div>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">ÈÄöÁü•Ë®≠ÂÆö</label>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" checked> Êñ∞ÁùÄÊ°à‰ª∂„ÅÆÈÄöÁü•
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" checked> È´òÂ†±ÈÖ¨Ê°à‰ª∂„ÅÆÂÑ™ÂÖàÈÄöÁü•
                    </label>
                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                        <input type="checkbox" checked> „É™„Éû„Ç§„É≥„ÉÄ„ÉºÈÄöÁü•
                    </label>
                </div>
            </div>
            
            <button class="btn btn-primary" style="width: 100%;">Ë®≠ÂÆö„Çí‰øùÂ≠ò</button>
        </div>
    </div>
    
    <!-- ÈÄ£Áµ°ÂÖà„É¢„Éº„ÉÄ„É´ -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('contactModal')">&times;</span>
            <h2>üìû „ÅäÂïè„ÅÑÂêà„Çè„Åõ</h2>
            
            <div style="display: grid; gap: 1rem; margin-bottom: 1rem;">
                <button class="btn btn-primary" style="width: 100%; padding: 1rem;" onclick="callSupport()">
                    üìû „Çµ„Éù„Éº„Éà„Çª„É≥„Çø„Éº„Å´ÈõªË©±<br>
                    <small>0120-XXX-XXXX (24ÊôÇÈñìÂØæÂøú)</small>
                </button>
                
                <button class="btn btn-success" style="width: 100%; padding: 1rem;" onclick="openChat()">
                    üí¨ „ÉÅ„É£„ÉÉ„Éà„Çµ„Éù„Éº„Éà<br>
                    <small>Âπ≥ÂùáÂøúÁ≠îÊôÇÈñì: 2ÂàÜ</small>
                </button>
                
                <button class="btn btn-secondary" style="width: 100%; padding: 1rem;" onclick="sendEmail()">
                    ‚úâÔ∏è „É°„Éº„É´„ÅßÂïè„ÅÑÂêà„Çè„Åõ<br>
                    <small>support@cargo.jp</small>
                </button>
            </div>
            
            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px;">
                <h4>„Çà„Åè„ÅÇ„ÇãË≥™Âïè</h4>
                <ul style="list-style: none; padding: 0;">
                    <li style="padding: 0.5rem 0; border-bottom: 1px solid #ecf0f1;">
                        <a href="#" style="color: #3498db; text-decoration: none;">Â†±ÈÖ¨„ÅÆÊîØÊâï„ÅÑ„Çø„Ç§„Éü„É≥„Ç∞„Å´„Å§„ÅÑ„Å¶</a>
                    </li>
                    <li style="padding: 0.5rem 0; border-bottom: 1px solid #ecf0f1;">
                        <a href="#" style="color: #3498db; text-decoration: none;">‰∫ãÊïÖ„Éª„Éà„É©„Éñ„É´ÊôÇ„ÅÆÂØæÂøú</a>
                    </li>
                    <li style="padding: 0.5rem 0; border-bottom: 1px solid #ecf0f1;">
                        <a href="#" style="color: #3498db; text-decoration: none;">„Ç≠„É£„É≥„Çª„É´„Éù„É™„Ç∑„Éº</a>
                    </li>
                    <li style="padding: 0.5rem 0;">
                        <a href="#" style="color: #3498db; text-decoration: none;">‰øùÈô∫„Å´„Å§„ÅÑ„Å¶</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞
        let currentJobData = null;
        let jobsData = [
            {
                id: 'JOB001',
                title: '„Éà„É®„Çø „Éó„É™„Ç¶„Çπ 2019Âπ¥',
                price: 35000,
                from: 'Êù±‰∫¨ÈÉΩÊñ∞ÂÆøÂå∫',
                to: 'Á•ûÂ•àÂ∑ùÁúåÊ®™ÊµúÂ∏Ç',
                distance: '45km',
                time: '1ÊôÇÈñì30ÂàÜ',
                date: '2024/06/14 9:00Â∏åÊúõ',
                company: 'Áî∞‰∏≠ÂïÜ‰ºö',
                details: '‰ΩéÁáÉË≤ªËªä„ÉªÁä∂ÊÖãËâØÂ•Ω',
                payment: 'Âç≥Êó•ÊîØÊâï„ÅÑ',
                status: 'available'
            },
            {
                id: 'JOB002',
                title: '„Éõ„É≥„ÉÄ „Éï„Ç£„ÉÉ„Éà 2020Âπ¥',
                price: 28000,
                from: 'ÂüºÁéâÁúå„Åï„ÅÑ„Åü„ÅæÂ∏Ç',
                to: 'ÂçÉËëâÁúåËàπÊ©ãÂ∏Ç',
                distance: '35km',
                time: '1ÊôÇÈñì15ÂàÜ',
                date: '2024/06/15 14:00Â∏åÊúõ',
                company: '„Ç´„Éº„É©„É≥„Éâ',
                details: '„Ç≥„É≥„Éë„ÇØ„Éà„Ç´„Éº',
                payment: 'ÁøåÂñ∂Ê•≠Êó•ÊîØÊâï„ÅÑ',
                status: 'available'
            },
            {
                id: 'JOB003',
                title: '„Éû„ÉÑ„ÉÄ CX-5 2021Âπ¥',
                price: 45000,
                from: 'Êù±‰∫¨ÈÉΩÊ∏ãË∞∑Âå∫',
                to: 'Áæ§È¶¨ÁúåÈ´òÂ¥éÂ∏Ç',
                distance: '120km',
                time: '2ÊôÇÈñì30ÂàÜ',
                date: '2024/06/16 10:00Â∏åÊúõ',
                company: '„Ç∞„É≥„Éû„Ç™„Éº„Éà',
                details: 'SUV„ÉªÈ´òÂπ¥Âºè',
                payment: 'Âç≥Êó•ÊîØÊâï„ÅÑ',
                status: 'available'
            }
        ];
        
        let earnings = {
            today: 35000,
            week: 180000,
            month: 180000,
            completedJobs: 24,
            avgReward: 7500
        };

        // „É¢„Éº„ÉÄ„É´Èñ¢Êï∞
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            if (modalId === 'earningsModal') {
                updateEarningsChart();
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // ‰ΩúÊ•≠ÈñãÂßã
        function startWork() {
            const currentJob = document.getElementById('currentJob');
            currentJob.style.display = 'block';
            currentJob.scrollIntoView({ behavior: 'smooth' });
            
            // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂäπÊûú
            currentJob.style.opacity = '0';
            setTimeout(() => {
                currentJob.style.transition = 'opacity 0.5s';
                currentJob.style.opacity = '1';
            }, 100);
            
            showToast('‰ΩúÊ•≠„ÇíÈñãÂßã„Åó„Åæ„Åó„ÅüÔºÅÂÆâÂÖ®ÈÅãËª¢„Åß„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ', 'success');
            
            // GPSËøΩË∑°„ÇíÈñãÂßã
            startGPSTracking();
        }

        // ÁèæÂú®„ÅÆ‰ªï‰∫ã„ÇíË°®Á§∫
        function showCurrentJob() {
            const currentJob = document.getElementById('currentJob');
            currentJob.style.display = 'block';
            currentJob.scrollIntoView({ behavior: 'smooth' });
        }

        // ‰ªï‰∫ã„Å´ÂøúÂãü
        function applyJob(jobId) {
            const job = jobsData.find(j => j.id === jobId);
            if (!job) return;
            
            // ÂøúÂãüÁ¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞
            const confirmApply = confirm(`
                ${job.title}„Å´ÂøúÂãü„Åó„Åæ„Åô„ÅãÔºü
                
                „É´„Éº„Éà: ${job.from} ‚Üí ${job.to}
                Ë∑ùÈõ¢: ${job.distance}
                Â†±ÈÖ¨: ¬•${job.price.toLocaleString()}
                Â∏åÊúõÊó•ÊôÇ: ${job.date}
            `);
            
            if (confirmApply) {
                showToast(`${job.title}„Å´ÂøúÂãü„Åó„Åæ„Åó„ÅüÔºÅ`, 'info');
                
                // ÂøúÂãü„Éú„Çø„É≥„ÇíÂ§âÊõ¥
                const applyBtn = event.target;
                applyBtn.textContent = 'ÂøúÂãüÊ∏à„Åø';
                applyBtn.disabled = true;
                applyBtn.style.background = '#95a5a6';
                
                // 2ÁßíÂæå„Å´ÊâøË™çÈÄöÁü•
                setTimeout(() => {
                    showToast('ÂøúÂãü„ÅåÊâøË™ç„Åï„Çå„Åæ„Åó„ÅüÔºÅË©≥Á¥∞„ÇíÁ¢∫Ë™ç„Åó„Å¶‰ΩúÊ•≠„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ', 'success');
                    updateJobHistory(job);
                }, 2000);
            }
        }

        // ‰ªï‰∫ã„ÅÆË©≥Á¥∞„ÇíË°®Á§∫
        function viewJobDetails(jobId) {
            const job = jobsData.find(j => j.id === jobId);
            if (!job) return;
            
            const detailsModal = document.createElement('div');
            detailsModal.className = 'modal';
            detailsModal.style.display = 'block';
            detailsModal.innerHTML = `
                <div class="modal-content">
                    <span class="close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                    <h2>Ê°à‰ª∂Ë©≥Á¥∞ - ${job.title}</h2>
                    
                    <div style="margin: 1rem 0;">
                        <h3>Ëªä‰∏°ÊÉÖÂ†±</h3>
                        <p>ËªäÁ®Æ: ${job.title}</p>
                        <p>Áä∂ÊÖã: ${job.details}</p>
                        <p>ÁâπË®ò‰∫ãÈ†Ö: „Ç®„É≥„Ç∏„É≥ËâØÂ•Ω„ÄÅÁ¶ÅÁÖôËªä„ÄÅ„ÉØ„É≥„Ç™„Éº„Éä„Éº</p>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <h3>„É´„Éº„ÉàË©≥Á¥∞</h3>
                        <p>ÂèóÂèñÂ†¥ÊâÄ: ${job.from} (ÈßêËªäÂ†¥„ÅÇ„Çä)</p>
                        <p>Á¥çËªäÂ†¥ÊâÄ: ${job.to} (‰∫ãÂâçÈÄ£Áµ°ÂøÖË¶Å)</p>
                        <p>Êé®ÂÆöË∑ùÈõ¢: ${job.distance}</p>
                        <p>Êé®ÂÆöÊôÇÈñì: ${job.time}</p>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <h3>Â†±ÈÖ¨„ÉªÊîØÊâï„ÅÑ</h3>
                        <p>Â†±ÈÖ¨È°ç: ¬•${job.price.toLocaleString()}</p>
                        <p>ÊîØÊâï„ÅÑ: ${job.payment}</p>
                        <p>È´òÈÄü‰ª£: ÂÆüË≤ªÊîØÁµ¶</p>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <h3>Ëç∑‰∏ªÊÉÖÂ†±</h3>
                        <p>‰ºöÁ§æÂêç: ${job.company}</p>
                        <p>Ë©ï‰æ°: ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (4.5/5.0)</p>
                        <p>ÂèñÂºïÂÆüÁ∏æ: 156‰ª∂</p>
                    </div>
                    
                    <button class="btn btn-success" style="width: 100%; margin-top: 1rem;" 
                            onclick="this.parentElement.parentElement.remove(); applyJob('${jobId}')">
                        „Åì„ÅÆÊ°à‰ª∂„Å´ÂøúÂãü„Åô„Çã
                    </button>
                </div>
            `;
            document.body.appendChild(detailsModal);
        }

        // Ê°à‰ª∂„É™„Çπ„Éà„ÇíÊõ¥Êñ∞
        function refreshJobs() {
            const refreshBtn = event.target;
            refreshBtn.disabled = true;
            refreshBtn.textContent = 'Êõ¥Êñ∞‰∏≠...';
            
            // „É≠„Éº„Éá„Ç£„É≥„Ç∞„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
            const jobList = document.querySelector('.job-list');
            jobList.style.opacity = '0.5';
            
            setTimeout(() => {
                // Êñ∞„Åó„ÅÑÊ°à‰ª∂„ÇíËøΩÂä†
                const newJobs = [
                    {
                        id: 'JOB004',
                        title: 'Êó•Áî£ „Çª„É¨„Éä 2022Âπ¥',
                        price: 42000,
                        from: 'ÂçÉËëâÁúåÂçÉËëâÂ∏Ç',
                        to: 'Ëå®ÂüéÁúå„Å§„Åè„Å∞Â∏Ç',
                        distance: '65km',
                        time: '1ÊôÇÈñì45ÂàÜ',
                        date: '2024/06/14 15:00Â∏åÊúõ',
                        company: '„Å§„Åè„Å∞„É¢„Éº„Çø„Éº„Çπ',
                        details: '„Éü„Éã„Éê„É≥„Éª„Éï„Ç°„Éü„É™„Éº„Ç´„Éº',
                        payment: 'Âç≥Êó•ÊîØÊâï„ÅÑ',
                        status: 'available'
                    },
                    {
                        id: 'JOB005',
                        title: '„Çπ„Ç∫„Ç≠ „Çπ„Ç§„Éï„Éà 2021Âπ¥',
                        price: 25000,
                        from: 'Êù±‰∫¨ÈÉΩÁ∑¥È¶¨Âå∫',
                        to: 'Êù±‰∫¨ÈÉΩÂÖ´ÁéãÂ≠êÂ∏Ç',
                        distance: '30km',
                        time: '1ÊôÇÈñì',
                        date: '2024/06/14 11:00Â∏åÊúõ',
                        company: 'ÂÖ´ÁéãÂ≠ê„Ç´„Éº„Çª„É≥„Çø„Éº',
                        details: '„Ç≥„É≥„Éë„ÇØ„Éà„Ç´„Éº„Éª‰ΩéËµ∞Ë°å',
                        payment: 'ÁøåÊó•ÊîØÊâï„ÅÑ',
                        status: 'available'
                    }
                ];
                
                jobsData = [...newJobs, ...jobsData];
                renderJobList();
                
                jobList.style.opacity = '1';
                refreshBtn.disabled = false;
                refreshBtn.textContent = 'Êõ¥Êñ∞';
                
                showToast(`${newJobs.length}‰ª∂„ÅÆÊñ∞„Åó„ÅÑÊ°à‰ª∂„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åó„ÅüÔºÅ`, 'success');
            }, 1500);
        }

        // Ê°à‰ª∂„É™„Çπ„Éà„Çí„É¨„É≥„ÉÄ„É™„É≥„Ç∞
        function renderJobList() {
            const jobList = document.querySelector('.job-list');
            const filters = getFilters();
            
            let filteredJobs = jobsData.filter(job => {
                // „Ç®„É™„Ç¢„Éï„Ç£„É´„Çø„Éº
                if (filters.area !== 'ÂÖ®Âú∞Âüü' && !job.from.includes(filters.area)) {
                    return false;
                }
                
                // Ë∑ùÈõ¢„Éï„Ç£„É´„Çø„Éº
                if (filters.distance !== 'ÊåáÂÆö„Å™„Åó') {
                    const jobDistance = parseInt(job.distance);
                    const maxDistance = parseInt(filters.distance);
                    if (jobDistance > maxDistance) return false;
                }
                
                // ÊúÄ‰ΩéÂ†±ÈÖ¨„Éï„Ç£„É´„Çø„Éº
                if (filters.minReward && job.price < filters.minReward) {
                    return false;
                }
                
                return true;
            });
            
            jobList.innerHTML = filteredJobs.map(job => `
                <div class="job-card">
                    <div class="job-header">
                        <div class="job-title">${job.title}</div>
                        <div class="job-price">¬•${job.price.toLocaleString()}</div>
                    </div>
                    
                    <div class="route-info">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <span>üìç ${job.from}</span>
                            <span>üìç ${job.to}</span>
                        </div>
                        <div class="route-distance">Á¥Ñ${job.distance} / ‰∫àÊÉ≥ÊôÇÈñì: ${job.time}</div>
                    </div>
                    
                    <div class="job-details">
                        <div class="detail-item">
                            <span>‚è∞</span>
                            <span>${job.date}</span>
                        </div>
                        <div class="detail-item">
                            <span>üè¢</span>
                            <span>${job.company}</span>
                        </div>
                        <div class="detail-item">
                            <span>üöó</span>
                            <span>${job.details}</span>
                        </div>
                        <div class="detail-item">
                            <span>üí≥</span>
                            <span>${job.payment}</span>
                        </div>
                    </div>
                    
                    <div class="job-actions">
                        <button class="btn btn-secondary" onclick="viewJobDetails('${job.id}')">Ë©≥Á¥∞</button>
                        <button class="btn btn-success" onclick="applyJob('${job.id}')">ÂøúÂãü</button>
                    </div>
                </div>
            `).join('');
            
            if (filteredJobs.length === 0) {
                jobList.innerHTML = '<p style="text-align: center; padding: 2rem; color: #7f8c8d;">Êù°‰ª∂„Å´Âêà„ÅÜÊ°à‰ª∂„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ</p>';
            }
        }

        // „Éï„Ç£„É´„Çø„ÉºÂÄ§„ÇíÂèñÂæó
        function getFilters() {
            const filters = document.querySelectorAll('.filter-group select, .filter-group input');
            return {
                area: filters[0].value,
                distance: filters[1].value,
                minReward: parseInt(filters[2].value) || 0,
                date: filters[3].value
            };
        }

        // ÈÖçÈÄÅÂÆå‰∫ÜÂá¶ÁêÜ
        function completeDelivery() {
            const checkboxes = document.querySelectorAll('#deliveryModal input[type="checkbox"]');
            const allChecked = Array.from(checkboxes).every(cb => cb.checked);
            
            if (!allChecked) {
                showToast('„Åô„Åπ„Å¶„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØÈ†ÖÁõÆ„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ', 'error');
                return;
            }
            
            // ÈÖçÈÄÅÂÆå‰∫ÜÂá¶ÁêÜ
            earnings.today += 35000;
            earnings.month += 35000;
            earnings.completedJobs += 1;
            updateStats();
            
            showToast('ÈÖçÈÄÅÂÆå‰∫ÜÔºÅÂ†±ÈÖ¨ ¬•35,000 „ÅåÂç≥Â∫ß„Å´„Ç¢„Ç´„Ç¶„É≥„Éà„Å´ÂÖ•Èáë„Åï„Çå„Åæ„Åó„Åü„ÄÇ', 'success');
            closeModal('deliveryModal');
            document.getElementById('currentJob').style.display = 'none';
            
            // ÂÆå‰∫ÜÈü≥„ÇíÂÜçÁîüÔºàÂÆüË£Ö„Åß„ÅØÂÆüÈöõ„ÅÆÈü≥Â£∞„Éï„Ç°„Ç§„É´„Çí‰ΩøÁî®Ôºâ
            playCompletionSound();
        }

        // Áµ±Ë®àÊÉÖÂ†±„ÇíÊõ¥Êñ∞
        function updateStats() {
            document.querySelector('.stat-card:nth-child(2) .stat-value').textContent = earnings.completedJobs;
            document.querySelector('.stat-card:nth-child(3) .stat-value').textContent = `¬•${earnings.month.toLocaleString()}`;
        }

        // ÂèéÁõä„ÉÅ„É£„Éº„Éà„ÇíÊõ¥Êñ∞
        function updateEarningsChart() {
            const chartContent = document.querySelector('.earnings-chart');
            chartContent.innerHTML = `
                <h3>‰ªäÊúà„ÅÆÂèéÁõä: ¬•${earnings.month.toLocaleString()}</h3>
                <p>ÂâçÊúàÊØî: +15% ‚ÜóÔ∏è</p>
                <canvas id="earningsCanvas" width="400" height="200" style="max-width: 100%;"></canvas>
            `;
            
            // Á∞°ÊòìÁöÑ„Å™„Ç∞„É©„Éï„ÇíÊèèÁîª
            drawEarningsChart();
        }

        // ÂèéÁõä„Ç∞„É©„Éï„ÇíÊèèÁîª
        function drawEarningsChart() {
            const canvas = document.getElementById('earningsCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const weeks = [45000, 52000, 48000, 35000];
            const maxValue = Math.max(...weeks);
            
            // „Ç∞„É©„Éï„ÇíÊèèÁîª
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#27ae60';
            
            weeks.forEach((value, index) => {
                const barHeight = (value / maxValue) * 150;
                const x = index * 100 + 20;
                const y = 180 - barHeight;
                
                ctx.fillRect(x, y, 80, barHeight);
                ctx.fillStyle = '#2c3e50';
                ctx.font = '12px Arial';
                ctx.fillText(`Á¨¨${index + 1}ÈÄ±`, x + 20, 195);
                ctx.fillText(`¬•${value.toLocaleString()}`, x + 10, y - 5);
                ctx.fillStyle = '#27ae60';
            });
        }

        // „Éà„Éº„Çπ„ÉàÈÄöÁü•
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 2rem;
                background: ${type === 'success' ? '#27ae60' : type === 'error' ? '#e74c3c' : '#3498db'};
                color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
            `;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // GPSËøΩË∑°
        function startGPSTracking() {
            if (navigator.geolocation) {
                navigator.geolocation.watchPosition(
                    position => {
                        console.log('ÁèæÂú®‰ΩçÁΩÆ:', position.coords.latitude, position.coords.longitude);
                        // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ„ÄÅ„Çµ„Éº„Éê„Éº„Å´‰ΩçÁΩÆÊÉÖÂ†±„ÇíÈÄÅ‰ø°
                    },
                    error => console.error('GPS „Ç®„É©„Éº:', error),
                    { enableHighAccuracy: true, maximumAge: 30000, timeout: 27000 }
                );
            }
        }

        // ÂÆå‰∫ÜÈü≥„ÇíÂÜçÁîü
        function playCompletionSound() {
            // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØÈü≥Â£∞„Éï„Ç°„Ç§„É´„Çí‰ΩøÁî®
            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmFgU7k9n1unEiBC13yO/eizEIHWq+8+OWT' + 
                             'QwOUKvn77VlGAc7k9j1unEiBC13yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9j1unEiBC13yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9j1unEiBC13yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9j1unEiBC13yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9j1unEiBC13yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9j1unEiBC13yO/eizEIHWq+8+OWT' +
                             'QwOUKvn77VlGAc7k9n1unAiBC14yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9n1unAiBC14yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9n1unAiBC14yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9n1unAiBC14yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9n1unAiBC14yO/eizEIHWq+8+OWTQwOUKvn77VlGAc7k9n1unAiBC14yO/eizEIHWq+8+OWT' + 
                             'QwOUKvn77VlGAc7k9n1unAiBC14yO/eizEIHWq+8+OWTQ==');
            audio.play().catch(e => console.log('Èü≥Â£∞ÂÜçÁîü„Ç®„É©„Éº:', e));
        }

        // ‰ΩúÊ•≠Â±•Ê≠¥„ÇíÊõ¥Êñ∞
        function updateJobHistory(job) {
            // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ„ÄÅ„Çµ„Éº„Éê„Éº„Å´‰øùÂ≠ò
            console.log('‰ΩúÊ•≠Â±•Ê≠¥„Å´ËøΩÂä†:', job);
        }

        // „Éó„É≠„Éï„Ç£„Éº„É´Ë®≠ÂÆö„Çí‰øùÂ≠ò
        function saveProfile() {
            const area = document.querySelector('#profileModal select').value;
            const startTime = document.querySelectorAll('#profileModal input[type="time"]')[0].value;
            const endTime = document.querySelectorAll('#profileModal input[type="time"]')[1].value;
            const minReward = document.querySelector('#profileModal input[type="number"]').value;
            
            // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ„ÄÅ„Çµ„Éº„Éê„Éº„Å´‰øùÂ≠ò
            localStorage.setItem('driverProfile', JSON.stringify({
                area, startTime, endTime, minReward
            }));
            
            showToast('„Éó„É≠„Éï„Ç£„Éº„É´Ë®≠ÂÆö„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü„ÄÇ', 'success');
            closeModal('profileModal');
        }

        // „É¢„Éº„ÉÄ„É´Â§ñ„ÇØ„É™„ÉÉ„ÇØ„ÅßÈñâ„Åò„Çã
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // „Éï„Ç£„É´„Çø„ÉºÂ§âÊõ¥ÊôÇ„ÅÆÂá¶ÁêÜ
        document.addEventListener('DOMContentLoaded', function() {
            // „Éï„Ç£„É´„Çø„Éº„Å´„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÇíËøΩÂä†
            document.querySelectorAll('.filter-group select, .filter-group input').forEach(filter => {
                filter.addEventListener('change', renderJobList);
            });
            
            // „Éó„É≠„Éï„Ç£„Éº„É´‰øùÂ≠ò„Éú„Çø„É≥
            const profileSaveBtn = document.querySelector('#profileModal .btn-primary');
            profileSaveBtn.onclick = saveProfile;
            
            // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Áî®CSSËøΩÂä†
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        });

        // ÂÆöÊúüÁöÑ„Å™ÈÄöÁü•
        function scheduleNotifications() {
            // 10ÁßíÂæå„Å´Êñ∞ÁùÄÊ°à‰ª∂ÈÄöÁü•
            setTimeout(() => {
                showToast('Êñ∞ÁùÄÊ°à‰ª∂: È´òÂ†±ÈÖ¨Ê°à‰ª∂„Åå2‰ª∂ËøΩÂä†„Åï„Çå„Åæ„Åó„ÅüÔºÅ', 'info');
            }, 10000);
            
            // 30ÁßíÂæå„Å´„É™„Éû„Ç§„É≥„ÉÄ„Éº
            setTimeout(() => {
                if (document.getElementById('currentJob').style.display !== 'none') {
                    showToast('ÂÆâÂÖ®ÈÅãËª¢„ÇíÂøÉ„Åå„Åë„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ‰ºëÊÜ©„ÇÇÂ§ßÂàá„Åß„Åô„ÄÇ', 'info');
                }
            }, 30000);
        }

        // ÈÄ£Áµ°ÂÖàÈñ¢ÈÄ£„ÅÆÈñ¢Êï∞
        function callSupport() {
            if (confirm('„Çµ„Éù„Éº„Éà„Çª„É≥„Çø„ÉºÔºà0120-XXX-XXXXÔºâ„Å´ÈõªË©±„Çí„Åã„Åë„Åæ„Åô„ÅãÔºü')) {
                showToast('ÈõªË©±„Ç¢„Éó„É™„ÇíËµ∑Âãï„Åó„Å¶„ÅÑ„Åæ„Åô...', 'info');
                // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ: window.location.href = 'tel:0120XXXXXXX';
            }
        }

        function openChat() {
            showToast('„ÉÅ„É£„ÉÉ„Éà„Çµ„Éù„Éº„Éà„ÇíÈñã„ÅÑ„Å¶„ÅÑ„Åæ„Åô...', 'info');
            // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ„ÄÅ„ÉÅ„É£„ÉÉ„Éà„Ç¶„Ç£„Ç∏„Çß„ÉÉ„Éà„ÇíÈñã„Åè
            setTimeout(() => {
                const chatMessage = prompt('„ÅäÂõ∞„Çä„ÅÆ„Åì„Å®„Çí„ÅäËÅû„Åã„Åõ„Åè„Å†„Åï„ÅÑÔºö');
                if (chatMessage) {
                    showToast('„Çµ„Éù„Éº„Éà„Çπ„Çø„ÉÉ„Éï„ÅåÂØæÂøú‰∏≠„Åß„Åô„ÄÇ„Åæ„ÇÇ„Å™„ÅèËøî‰ø°„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ', 'success');
                }
            }, 500);
        }

        function sendEmail() {
            showToast('„É°„Éº„É´„Ç¢„Éó„É™„ÇíËµ∑Âãï„Åó„Å¶„ÅÑ„Åæ„Åô...', 'info');
            // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ: window.location.href = 'mailto:support@cargo.jp';
        }

        // „É¨„Éù„Éº„ÉàÈñ¢ÈÄ£„ÅÆÈñ¢Êï∞
        function downloadReport() {
            showToast('ÂèéÁõä„É¨„Éù„Éº„Éà„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ‰∏≠...', 'info');
            setTimeout(() => {
                showToast('„É¨„Éù„Éº„ÉàÔºà2024Âπ¥6ÊúàÂàÜÔºâ„ÅÆ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„ÄÇ', 'success');
                // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ„ÄÅPDF„Éï„Ç°„Ç§„É´„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
            }, 2000);
        }

        function requestPayout() {
            const payoutAmount = prompt('Âá∫ÈáëÈ°ç„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºàÁèæÂú®„ÅÆÊÆãÈ´ò: ¬•180,000ÔºâÔºö', '180000');
            if (payoutAmount && !isNaN(payoutAmount)) {
                if (confirm(`¬•${parseInt(payoutAmount).toLocaleString()}„ÇíÁôªÈå≤Âè£Â∫ß„Å´Âá∫ÈáëÁî≥Ë´ã„Åó„Åæ„Åô„ÅãÔºü\n\nÊåØËæº‰∫àÂÆöÊó•: ÁøåÂñ∂Ê•≠Êó•\nÊåØËæºÂÖà: „Åø„Åö„ÅªÈäÄË°å ***ÊîØÂ∫ó ÊôÆÈÄö ****123`)) {
                    showToast('Âá∫ÈáëÁî≥Ë´ã„ÇíÂèó„Åë‰ªò„Åë„Åæ„Åó„Åü„ÄÇÁøåÂñ∂Ê•≠Êó•„Å´ÊåØ„ÇäËæº„Åæ„Çå„Åæ„Åô„ÄÇ', 'success');
                }
            }
        }

        // ÈÄ≤Êçó„Çπ„ÉÜ„ÉÉ„Éó„ÇíÊõ¥Êñ∞
        function updateProgressStep(step) {
            const steps = document.querySelectorAll('.progress-step');
            steps.forEach((s, index) => {
                s.classList.remove('active', 'completed');
                if (index < step) {
                    s.classList.add('completed');
                } else if (index === step) {
                    s.classList.add('active');
                }
            });
        }

        // „É™„Ç¢„É´„Çø„Ç§„É†‰ΩçÁΩÆËøΩË∑°„ÅÆ„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥
        function simulateLocationTracking() {
            const locations = [
                { lat: 35.6762, lng: 139.6503, address: 'Êù±‰∫¨ÈÉΩÊñ∞ÂÆøÂå∫' },
                { lat: 35.6544, lng: 139.7447, address: 'Êù±‰∫¨ÈÉΩÊ∏ãË∞∑Âå∫' },
                { lat: 35.4437, lng: 139.6380, address: 'Á•ûÂ•àÂ∑ùÁúåÊ®™ÊµúÂ∏Ç' }
            ];
            
            let currentIndex = 0;
            setInterval(() => {
                if (document.getElementById('currentJob').style.display !== 'none' && currentIndex < locations.length) {
                    console.log('ÁèæÂú®‰ΩçÁΩÆÊõ¥Êñ∞:', locations[currentIndex]);
                    currentIndex++;
                    
                    // ÈÄ≤Êçó„ÇíÊõ¥Êñ∞
                    if (currentIndex === 2) {
                        updateProgressStep(1); // Ëº∏ÈÄÅ‰∏≠
                    } else if (currentIndex === 3) {
                        updateProgressStep(2); // Á¥çËªä
                    }
                }
            }, 30000); // 30Áßí„Åî„Å®„Å´Êõ¥Êñ∞
        }

        // „Éá„É¢Áî®: Ëá™ÂãïÊ°à‰ª∂ËøΩÂä†
        function addDemoJobs() {
            setTimeout(() => {
                const newJob = {
                    id: 'JOB006',
                    title: '„É¨„ÇØ„Çµ„Çπ LS 2023Âπ¥',
                    price: 65000,
                    from: 'Êù±‰∫¨ÈÉΩÊ∏ØÂå∫',
                    to: 'ÈùôÂ≤°ÁúåÈùôÂ≤°Â∏Ç',
                    distance: '180km',
                    time: '3ÊôÇÈñì',
                    date: '2024/06/15 8:00Â∏åÊúõ',
                    company: 'ÈùôÂ≤°„É¨„ÇØ„Çµ„Çπ',
                    details: 'È´òÁ¥öËªä„ÉªË¶ÅÊÖéÈáçÈÅãËª¢',
                    payment: 'Âç≥Êó•ÊîØÊâï„ÅÑ',
                    status: 'available'
                };
                
                jobsData.unshift(newJob);
                renderJobList();
                showToast('Êñ∞ÁùÄÔºÅÈ´òÂ†±ÈÖ¨Ê°à‰ª∂„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü: „É¨„ÇØ„Çµ„Çπ LS ¬•65,000', 'success');
            }, 20000);
        }

        // ÂàùÊúüÂåñÊôÇ„Å´ËøΩÂä†
        window.addEventListener('load', function() {
            renderJobList();
            scheduleNotifications();
            simulateLocationTracking();
            addDemoJobs();
            
            // ÈÄöÁü•Ë®±ÂèØ„Çí„É™„ÇØ„Ç®„Çπ„Éà
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
        });
    </script>
</body>
</html>